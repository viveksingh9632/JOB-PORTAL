<%- include("./layout/header") %>

<div class="container">
  <h2 class="citie-Id">cities</h2>
  <a href="/add_citie" class="btn btn-primary">Add a new citie</a>

  <br /><br />


  <div class="container mt-5">
    <% if (message) { %>
      <div class="alert alert-dismissible fade show alert-<%= message.type %>" role="alert">
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          <strong><%= message.message %></strong>
      </div>
  <% } %>
</div>
    <table class="table table-striped sorting">
    <thead>
      <tr class="home">
        <th>Id</th>
        <th>Name</th>
        <th>Country Name</th>
        <th>Created Date</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <% cities.forEach((citie) => { %>

      <tr>
        <td><%= citie.id %></td>
        <td><%= citie.name %></td>
        <td>
          <% if (citie.countrie_id) { %>
            <p>
              <%= citie.countrie_id.name %>
            </p>
          <% } %>
        </td>
        <td><%= citie.createdAt %></td>

        <td>
          <a
            href="/edit-citie/<%= citie._id %>"
            aria-label="Edit User"
            Id="Edit User"
            class="action-link"
          >
            <i class="fas fa-edit fa-lg mx-1 text-success"></i>
          </a>
          <a
            href="/delete-citie/<%= citie._id %>"
            aria-label="Delete User"
            Id="Delete User"
            class="action-link"
          >
            <i class="fas fa-trash fa-lg mx-1 text-danger"></i>
          </a>
        </td>
      </tr>
      <% }); %>
    </tbody>
  </table>
</div>

<%- include("./layout/footer") %>
